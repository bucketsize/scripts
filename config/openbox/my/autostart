#!/bin/sh

# opendesktop autostart
# TODO:
# 2. download and cycle through wallpapers
# 3. brightness control
# 4. complete shortcuts
# 9. fix compositing; compton is crashing in alpine

stopAll(){
	killall picom
	killall dunst
	killall tint2
	killall conky
	killall lx-polkit
	xautolock -exit
	killall light-locker
}
startAll(){
	picom &
	dunst &
	tint2 &
	conky &
	lx-polkit &
	xautolock \
		-time 5 -locker "light-locker-command --lock" \
		-killtime 10 -killer "notify-send -u critical -t 10000 -- 'Killing system ...'" \
		-notify 30 -notifier "notify-send -u critical -t 10000 -- 'Locking system ETA 30s ...'" &
	light-locker --lock-on-suspend --lock-on-lid &
	~/scripts/xdg/x.wallpaper.sh &
	~/scripts/xdg/sys.mond.lua &
}
case $i in
    stop)
        stopAll
        ;;
    *)
        stopAll
        startAll
        ;;
esac



